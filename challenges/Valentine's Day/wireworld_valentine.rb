########################################################################
# Wireworld Valentine Challenge
# Objective: Implement Wireworld and create a Valentine circuit!
# Start Date: February 2, 2023
# End Date: February 14, 2023
########################################################################
class WireworldValentine
  EMPTY         = "ğŸŸª" # State 0
  ELECTRON_HEAD = "ğŸŸ¥" # State 1
  ELECTRON_TAIL = "â¬œ" # State 2
  CONDUCTOR     = "ğŸŸ¨" # State 3

  def initialize(rows:, cols:)
    @rows = rows
    @cols = cols
    @grid = Array.new(rows) { Array.new(cols, EMPTY) }
  end

  def self.load(file)
    # parse the file data
    data =
      file
        .readlines(chomp: true)
        .map(&:chars)

    # create the game
    self
      .new(rows: data.length, cols: data[0].length)
      .tap { |game| game.instance_variable_set(:@grid, data) }
  end

  def display
    system("clear") || system("cls")

    puts @grid.collect(&:join)
  end

  ######################################################################
  # Implement the below method. Rules for Wireworld may be found on wiki
  # https://en.wikipedia.org/wiki/Wireworld
  ######################################################################
  def tick
    # Hint: mutate @grid
  end

  def run(steps=nil)
    (0..steps).each do
      display
      tick
      sleep 1
    end
  end
end

WireworldValentine.load(DATA).run
__END__
ğŸŸªğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨â¬œğŸŸ¥ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸª
ğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¨
ğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¨
ğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¥â¬œğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¥â¬œğŸŸªğŸŸªğŸŸªğŸŸ¥â¬œğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¥â¬œğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¨
ğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¨ğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¨ğŸŸªğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¨ğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¨
ğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸ¨ğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¨ğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸ¨
ğŸŸ¨ğŸŸªğŸŸªğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸªâ¬œğŸŸ¥ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªâ¬œğŸŸ¥ğŸŸªğŸŸªğŸŸªâ¬œğŸŸ¥ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªâ¬œğŸŸ¥ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¨ğŸŸªğŸŸªğŸŸ¨
ğŸŸ¨ğŸŸªğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸ¨ğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¨ğŸŸªğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¨ğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸ¨ğŸŸªğŸŸ¨
ğŸŸ¨ğŸŸªâ¬œğŸŸªğŸŸªğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¨ğŸŸªğŸŸªğŸŸ¥ğŸŸªğŸŸ¨
ğŸŸ¨ğŸŸªğŸŸ¥ğŸŸªğŸŸªğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¨ğŸŸªğŸŸªâ¬œğŸŸªğŸŸ¨
ğŸŸ¥ğŸŸªğŸŸ¨ğŸŸªğŸŸªğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¨ğŸŸªğŸŸªğŸŸ¨ğŸŸªâ¬œ
â¬œğŸŸªğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸ¨ğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¨ğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸ¨ğŸŸªğŸŸ¥
ğŸŸ¨ğŸŸªğŸŸªğŸŸ¨ğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸ¥â¬œğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¥â¬œğŸŸªğŸŸªğŸŸªğŸŸ¨ğŸŸ¨ğŸŸªğŸŸªğŸŸ¨
ğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¨ğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸ¨ğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¨ğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸ¨ğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¨
ğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªâ¬œğŸŸ¥ğŸŸªğŸŸªğŸŸªğŸŸ¨ğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¨ğŸŸ¨ğŸŸªğŸŸªğŸŸªâ¬œğŸŸ¥ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¨
ğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¨ğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸ¥â¬œğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¥â¬œğŸŸªğŸŸªğŸŸªğŸŸ¨ğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¨
ğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¨ğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸ¨ğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸ¨ğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸ¨ğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¨
ğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¨ğŸŸªğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¨
ğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªâ¬œğŸŸ¥ğŸŸªğŸŸªğŸŸªğŸŸ¨ğŸŸªğŸŸªğŸŸªâ¬œğŸŸ¥ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¨
ğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¨ğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸ¨ğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¨
ğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¨
ğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¨
ğŸŸ¨ğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸªğŸŸ¨
ğŸŸªğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¥â¬œğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸ¨ğŸŸª
